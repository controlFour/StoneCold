[env:m5stack-dial]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino

; Build flags for M5Stack Dial
build_flags =
    -DCORE_DEBUG_LEVEL=3
    -DBOARD_HAS_PSRAM
    -DARDUINO_M5STACK_DIAL
    -DARDUINO_USB_CDC_ON_BOOT=1
    -DLV_CONF_PATH="${PROJECT_DIR}/lv_conf.h"
    -DLV_LVGL_H_INCLUDE_SIMPLE
    -DI2C_BUFFER_LENGTH=1040
    -I${PROJECT_DIR}

; Serial monitor configuration
monitor_speed = 115200
monitor_filters = esp32_exception_decoder

; Library dependencies
lib_deps =
    m5stack/M5Unified@^0.2.2
    m5stack/M5Dial@^1.0.2
    m5stack/M5Unit-EXTIO2@^1.0.2
    lvgl/lvgl@^8.3.11
    dlloydev/QuickPID@^3.1.9

; Partition scheme with OTA support
board_build.partitions = min_spiffs.csv
board_build.arduino.memory_type = qio_opi

; PSRAM configuration
board_build.arduino.psram = enabled

; OTA upload environment
[env:m5stack-dial-ota]
;extends = env:m5stack-dial
;upload_protocol = espota
;upload_port = 192.168.200.150

